import { createEffect, createEvent, createStore, sample } from 'effector'

export type TError = {
  id: number
  classType: string
  classDescription: string
  type: string
  typeDescription: string
  key: string
  title: string | null
  description: string | null
  solution: string | null
  status: string
  dates: string[]
}

export const $errorInfo = createStore<TError | null>(null)

export const getErrorInfo = createEvent<string>()

const getErrorInfoFx = createEffect((errorId: string): TError => {
  return {
    id: 266,
    classType: 'SERVER_HANDLING',
    classDescription: 'Фронт-офисная система',
    type: 'PROCESS',
    typeDescription: 'Ошибки процесса',
    key: 'Ошибка при опросе очереди результатов',
    title: null,
    description: null,
    solution: null,
    status: 'NEW',
    dates: [
      '2023-10-13T21:55:57',
      '2023-10-13T21:55:10',
      '2023-10-11T15:25:50',
      '2023-10-11T15:25:12',
      '2023-10-11T15:20:49',
      '2023-10-11T15:20:12',
      '2023-10-11T15:15:34',
      '2023-10-11T15:15:12',
      '2023-10-11T15:10:34',
      '2023-10-11T15:10:11',
      '2023-10-11T15:05:34',
      '2023-10-11T15:05:11',
      '2023-10-11T15:00:49',
      '2023-10-11T15:00:10',
      '2023-10-11T14:55:33',
      '2023-10-11T14:55:10',
      '2023-10-11T14:50:33',
      '2023-10-11T14:50:09',
      '2023-10-11T14:45:48',
      '2023-10-11T14:45:09',
      '2023-10-11T14:40:33',
      '2023-10-11T14:40:09',
      '2023-10-11T14:35:33',
      '2023-10-11T14:35:08',
      '2023-10-11T14:30:48',
      '2023-10-11T14:30:08',
      '2023-10-11T14:25:32',
      '2023-10-11T14:25:08',
      '2023-10-11T14:20:47',
      '2023-10-11T14:20:07',
      '2023-10-11T14:15:47',
      '2023-10-11T14:15:07',
      '2023-10-11T14:10:47',
      '2023-10-11T14:10:07',
      '2023-10-11T14:05:32',
      '2023-10-11T14:05:06',
      '2023-10-11T14:00:31',
      '2023-10-11T14:00:06',
      '2023-10-11T13:55:31',
      '2023-10-11T13:55:05',
      '2023-10-11T13:50:31',
      '2023-10-11T13:50:05',
      '2023-10-11T13:45:46',
      '2023-10-11T13:45:04',
      '2023-10-11T13:41:01',
      '2023-10-11T13:40:04',
      '2023-10-11T13:35:46',
      '2023-10-11T13:35:03',
      '2023-10-11T13:30:46',
      '2023-10-11T13:30:08',
      '2023-10-11T13:25:30',
      '2023-10-11T13:25:03',
      '2023-10-11T13:20:30',
      '2023-10-11T13:20:02',
      '2023-10-11T13:15:30',
      '2023-10-11T13:15:02',
      '2023-10-11T13:10:30',
      '2023-10-11T13:10:02',
      '2023-10-11T13:05:30',
      '2023-10-11T13:05:01',
      '2023-10-11T13:00:44',
      '2023-10-11T13:00:13',
      '2023-10-11T12:55:44',
      '2023-10-11T12:55:12',
      '2023-10-11T12:50:59',
      '2023-10-11T12:50:11',
      '2023-10-11T12:45:44',
      '2023-10-11T12:45:16',
      '2023-10-11T12:40:44',
      '2023-10-11T12:40:11',
      '2023-10-11T12:35:59',
      '2023-10-11T12:35:10',
      '2023-10-11T12:30:43',
      '2023-10-11T12:30:09',
      '2023-10-11T12:25:43',
      '2023-10-11T12:25:07',
      '2023-10-11T12:20:43',
      '2023-10-11T12:20:06',
      '2023-10-11T12:15:43',
      '2023-10-11T12:15:06',
      '2023-10-11T12:10:43',
      '2023-10-11T12:10:06',
      '2023-10-11T12:05:58',
      '2023-10-11T12:05:05',
      '2023-10-11T12:00:57',
      '2023-10-11T12:00:15',
      '2023-10-11T11:55:57',
      '2023-10-11T11:55:14',
      '2023-10-11T11:50:57',
      '2023-10-11T11:50:13',
      '2023-10-11T11:45:57',
      '2023-10-11T11:45:13',
      '2023-10-11T11:40:42',
      '2023-10-11T11:40:13',
      '2023-10-11T11:35:42',
      '2023-10-11T11:35:12',
      '2023-10-11T11:30:56',
      '2023-10-11T11:30:12',
      '2023-10-11T11:25:41',
      '2023-10-11T11:25:11',
    ],
  }
})

sample({
  clock: getErrorInfo,
  target: getErrorInfoFx,
})
sample({
  clock: getErrorInfoFx.doneData,
  target: $errorInfo,
})
